{"ast":null,"code":"import _slicedToArray from \"/Users/nyantsa/Desktop/react-node-ecommerce/100-147/112 CODE cart total/ecommerce-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nyantsa/Desktop/react-node-ecommerce/100-147/112 CODE cart total/ecommerce-front/src/core/Card.js\";\nimport React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport moment from \"moment\";\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\n\nconst Card = ({\n  product,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        redirect = _useState2[0],\n        setRedirect = _useState2[1];\n\n  const _useState3 = useState(product.count),\n        _useState4 = _slicedToArray(_useState3, 2),\n        count = _useState4[0],\n        setCount = _useState4[1];\n\n  const showViewButton = showViewProductButton => {\n    return showViewProductButton && React.createElement(Link, {\n      to: \"/product/\".concat(product._id),\n      className: \"mr-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-outline-primary mt-2 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, \"View Product\"));\n  };\n\n  const addToCart = () => {\n    addItem(product, () => {\n      setRedirect(true);\n    });\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return React.createElement(Redirect, {\n        to: \"/cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      });\n    }\n  };\n\n  const showAddToCart = showAddToCartButton => {\n    return showAddToCartButton && React.createElement(\"button\", {\n      onClick: addToCart,\n      className: \"btn btn-outline-warning mt-2 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Add to cart\");\n  };\n\n  const showRemoveButton = showRemoveProductButton => {\n    return showRemoveProductButton && React.createElement(\"button\", {\n      onClick: () => removeItem(product._id),\n      className: \"btn btn-outline-danger mt-2 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Remove Product\");\n  };\n\n  const showStock = quantity => {\n    return quantity > 0 ? React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"In Stock\") : React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Out of Stock\");\n  };\n\n  const handleChange = productId => event => {\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return cartUpdate && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Adjust Quantity\")), React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      value: count,\n      onChange: handleChange(product._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-header name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, product.name), React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, shouldRedirect(redirect), React.createElement(ShowImage, {\n    item: product,\n    url: \"product\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"lead mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, product.description.substring(0, 100)), React.createElement(\"p\", {\n    className: \"black-10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"$\", product.price), React.createElement(\"p\", {\n    className: \"black-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Category: \", product.category && product.category.name), React.createElement(\"p\", {\n    className: \"black-8\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"Added on \", moment(product.createdAt).fromNow()), showStock(product.quantity), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), showViewButton(showViewProductButton), showAddToCart(showAddToCartButton), showRemoveButton(showRemoveProductButton), showCartUpdateOptions(cartUpdate)));\n};\n\nexport default Card;","map":{"version":3,"sources":["/Users/nyantsa/Desktop/react-node-ecommerce/100-147/112 CODE cart total/ecommerce-front/src/core/Card.js"],"names":["React","useState","Link","Redirect","ShowImage","moment","addItem","updateItem","removeItem","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","redirect","setRedirect","count","setCount","showViewButton","_id","addToCart","shouldRedirect","showAddToCart","showRemoveButton","showStock","quantity","handleChange","productId","event","target","value","showCartUpdateOptions","name","description","substring","price","category","createdAt","fromNow"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport moment from \"moment\";\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\n\nconst Card = ({\n    product,\n    showViewProductButton = true,\n    showAddToCartButton = true,\n    cartUpdate = false,\n    showRemoveProductButton = false\n}) => {\n    const [redirect, setRedirect] = useState(false);\n    const [count, setCount] = useState(product.count);\n\n    const showViewButton = showViewProductButton => {\n        return (\n            showViewProductButton && (\n                <Link to={`/product/${product._id}`} className=\"mr-2\">\n                    <button className=\"btn btn-outline-primary mt-2 mb-2\">\n                        View Product\n                    </button>\n                </Link>\n            )\n        );\n    };\n\n    const addToCart = () => {\n        addItem(product, () => {\n            setRedirect(true);\n        });\n    };\n\n    const shouldRedirect = redirect => {\n        if (redirect) {\n            return <Redirect to=\"/cart\" />;\n        }\n    };\n\n    const showAddToCart = showAddToCartButton => {\n        return (\n            showAddToCartButton && (\n                <button\n                    onClick={addToCart}\n                    className=\"btn btn-outline-warning mt-2 mb-2\"\n                >\n                    Add to cart\n                </button>\n            )\n        );\n    };\n\n    const showRemoveButton = showRemoveProductButton => {\n        return (\n            showRemoveProductButton && (\n                <button\n                    onClick={() => removeItem(product._id)}\n                    className=\"btn btn-outline-danger mt-2 mb-2\"\n                >\n                    Remove Product\n                </button>\n            )\n        );\n    };\n\n    const showStock = quantity => {\n        return quantity > 0 ? (\n            <span className=\"badge badge-primary badge-pill\">In Stock</span>\n        ) : (\n            <span className=\"badge badge-primary badge-pill\">Out of Stock</span>\n        );\n    };\n\n    const handleChange = productId => event => {\n        setCount(event.target.value < 1 ? 1 : event.target.value);\n        if (event.target.value >= 1) {\n            updateItem(productId, event.target.value);\n        }\n    };\n\n    const showCartUpdateOptions = cartUpdate => {\n        return (\n            cartUpdate && (\n                <div>\n                    <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">\n                                Adjust Quantity\n                            </span>\n                        </div>\n                        <input\n                            type=\"number\"\n                            className=\"form-control\"\n                            value={count}\n                            onChange={handleChange(product._id)}\n                        />\n                    </div>\n                </div>\n            )\n        );\n    };\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-header name\">{product.name}</div>\n            <div className=\"card-body\">\n                {shouldRedirect(redirect)}\n                <ShowImage item={product} url=\"product\" />\n                <p className=\"lead mt-2\">\n                    {product.description.substring(0, 100)}\n                </p>\n                <p className=\"black-10\">${product.price}</p>\n                <p className=\"black-9\">\n                    Category: {product.category && product.category.name}\n                </p>\n                <p className=\"black-8\">\n                    Added on {moment(product.createdAt).fromNow()}\n                </p>\n\n                {showStock(product.quantity)}\n                <br />\n\n                {showViewButton(showViewProductButton)}\n\n                {showAddToCart(showAddToCartButton)}\n\n                {showRemoveButton(showRemoveProductButton)}\n\n                {showCartUpdateOptions(cartUpdate)}\n            </div>\n        </div>\n    );\n};\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}