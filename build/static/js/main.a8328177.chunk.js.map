{"version":3,"sources":["config.js","components/Auth/index.js","components/Core/Menu.js","components/Core/cartHelpers.js","components/Core/Layout.js","components/User/Signup.js","components/User/Signin.js","components/Core/apiCore.js","components/Core/ShowImage.js","components/Core/Card.js","components/Core/Search.js","components/Core/Home.js","components/Core/Checkbox.js","components/Core/RadioBox.js","components/Core/fixedPrices.js","components/Core/Shop.js","components/Core/Product.js","components/Core/Checkout.js","components/Core/Cart.js","components/Auth/PrivateRoute.js","components/User/UserDashboard.js","components/Auth/AdminRoute.js","components/User/AdminDashboard.js","components/Admin/apiAdmin.js","components/Admin/AddCategory.js","components/Admin/AddProduct.js","components/Admin/UpdateProduct.js","components/Admin/ManageProducts.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","fontWeight","withRouter","_ref","react_default","a","createElement","className","style","backgroundColor","padding","react_router_dom","to","class","aria-hidden","margin","fontSize","borderRadius","length","user","role","react","cursor","onClick","next","removeItem","fetch","concat","method","then","response","console","log","catch","err","signout","push","Layout","_ref$title","title","_ref$description","description","children","Core_Menu","height","textAlign","Signup","_useState","useState","name","email","password","error","success","_useState2","Object","slicedToArray","values","setValues","handleChange","event","objectSpread","defineProperty","target","value","clickSubmit","preventDefault","headers","Accept","Content-Type","body","stringify","json","data","Core_Layout","display","onChange","type","Signin","loading","redirectToReferrer","setItem","authenticate","react_router","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","arguments","undefined","ShowImage","item","url","src","_id","alt","width","Card","product","_ref$showViewProductB","showViewProductButton","_ref$showAddToCartBut","showAddToCartButton","_ref$cartUpdate","cartUpdate","_ref$showRemoveProduc","showRemoveProductButton","redirect","setRedirect","_useState3","count","_useState4","setCount","addToCart","cart","Array","from","Set","map","p","id","find","addItem","productId","i","updateItem","shouldRedirect","Core_ShowImage","substring","price","category","moment","createdAt","fromNow","quantity","showViewButton","showAddToCart","splice","showRemoveButton","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","_objectSpread2","onSubmit","c","key","placeholder","border","searchMessage","Core_Card","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","_useState5","_useState6","setError","Core_Search","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","toConsumableArray","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","setCategories","_useState7","_useState8","_useState9","_useState10","setSkip","_useState11","_useState12","size","setSize","_useState13","_useState14","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Core_Checkbox","Core_RadioBox","Product","props","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","match","Checkout","products","clientToken","instance","address","userId","token","getToken","Authorization","getBraintreeClientToken","getTotal","reduce","currentValue","nextValue","buy","nonce","requestPaymentMethod","paymentData","paymentMethodNonce","amount","processPayment","message","showDropIn","onBlur","lib_default","options","authorization","onInstance","Cart","items","setItems","showItems","Core_Checkout","PrivateRoute","Component","component","rest","objectWithoutProperties","assign","render","state","Dashboard","_isAuthenticated$user","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","_isAuthenticated","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","UpdateProduct","init","getProduct","initCategories","updateProduct","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","Routes","exact","Auth_PrivateRoute","Auth_AdminRoute","ReactDOM","src_Routes","document","getElementById"],"mappings":"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","file":"static/js/main.a8328177.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;\n","import { API } from \"../../config\";\n\nexport const signup = user => {\n    return fetch(`${API}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signin = user => {\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const authenticate = (data, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\n        next();\n    }\n};\n\nexport const signout = next => {\n    if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"jwt\");\n        next();\n        return fetch(`${API}/signout`, {\n            method: \"GET\"\n        })\n            .then(response => {\n                console.log(\"signout\", response);\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == \"undefined\") {\n        return false;\n    }\n    if (localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"));\n    } else {\n        return false;\n    }\n};","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from \"../Auth\";\nimport { itemTotal } from \"./cartHelpers\";\nimport 'font-awesome/css/font-awesome.min.css';\n\nconst isActive = (history, path) => {\n    if (history.location.pathname === path) {\n        return { color: \"#B5ADB3\", fontWeight:\"bold\"};\n    } else {\n        return { color: \"#ffffff\" };\n    }\n};\n\nconst Menu = ({ history }) => (\n    <div className=\"description\">\n        <ul className=\"nav nav-tabs\" style={{backgroundColor: '#76135C', padding: '10px'}}>\n            <li className=\"nav-item\">\n                <Link className=\"nav-link\" style={isActive(history, \"/\")} to=\"/\">\n                <i class=\"fa fa-home\" aria-hidden=\"true\"></i> Home\n                </Link>\n            </li>\n\n            <li className=\"nav-item\" style={{margin: 'auto'}}>\n                <Link className=\"nav-link\" style={isActive(history, \"/shop\")} to=\"/shop\">\n                <i class=\"fa fa-shopping-basket\" aria-hidden=\"true\"></i> Shop\n                </Link>\n            </li>\n\n            <li className=\"nav-item\">\n                <Link className=\"nav-link\" style={isActive(history, \"/cart\")} to=\"/cart\">\n                < i className=\"fa fa-cart-plus\" aria-hidden=\"true\" style={{color:'white', fontSize: '30px'}}></i>{\" \"}\n                    <sup>\n                        <small className=\"cart-badge\" style={{backgroundColor: 'white', color:\"#56164D\", fontWeight:\"bold\", borderRadius: '50%', fontSize: '20px', padding: '2px'}}>{itemTotal()}</small>\n                    </sup>\n                </Link>\n            </li>\n\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\n                <li className=\"nav-item\">\n                    <Link\n                        className=\"nav-link\"\n                        style={isActive(history, \"/user/dashboard\")}\n                        to=\"/user/dashboard\"\n                    >\n                        <i class=\"fa fa-dashboard\"></i> Dashboard\n                    </Link>\n                </li>\n            )}\n\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\n                <li className=\"nav-item\">\n                    <Link\n                        className=\"nav-link\"\n                        style={isActive(history, \"/admin/dashboard\")}\n                        to=\"/admin/dashboard\"\n                    >\n                        <i class=\"fa fa-dashboard\"></i> Dashboard\n                    </Link>\n                </li>\n            )}\n\n            {!isAuthenticated() && (\n                <Fragment>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, \"/signin\")} to=\"/signin\">\n                            <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i> Signin\n                        </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, \"/signup\")} to=\"/signup\">\n                        <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i>  Signup\n                        </Link>\n                    </li>\n                </Fragment>\n            )}\n\n            {isAuthenticated() && (\n                <li className=\"nav-item\">\n                    <span\n                        className=\"nav-link\"\n                        style={{ cursor: \"pointer\", color: \"#ffffff\" }}\n                        onClick={() =>\n                            signout(() => {\n                                history.push(\"/\");\n                            })\n                        }\n                    >\n                        Signout\n                    </span>\n                </li>\n            )}\n        </ul>\n    </div>\n);\n\nexport default withRouter(Menu);","/*-------ADD ITEM------*/\nexport const addItem = (item, next) => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n        cart.push({\n            ...item,\n            count: 1\n        });\n\n        // remove duplicates\n        // build an Array from new Set and turn it back into array using Array.from\n        // so that later we can re-map it\n        // new set will only allow unique values in it\n        // so pass the ids of each object/product\n        // If the loop tries to add the same value again, it'll get ignored\n        // ...with the array of ids we got on when first map() was used\n        // run map() on it again and return the actual product from the cart\n\n        cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n            return cart.find(p => p._id === id);\n        });\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        next();\n    }\n};\n\n/*-------TOTAL ITEM------*/\nexport const itemTotal = () => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            return JSON.parse(localStorage.getItem(\"cart\")).length;\n        }\n    }\n    return 0;\n};\n\n/*-------GET ITEM FROM CART------*/\nexport const getCart = () => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            return JSON.parse(localStorage.getItem(\"cart\"));\n        }\n    }\n    return [];\n};\n\n/*-------UPDATE ITEM------*/\nexport const updateItem = (productId, count) => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n\n        cart.map((product, i) => {\n            if (product._id === productId) {\n                cart[i].count = count;\n            }\n        });\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n};\n\n/*-------REMOVE ITEM------*/\nexport const removeItem = productId => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n\n        cart.map((product, i) => {\n            if (product._id === productId) {\n                cart.splice(i, 1);\n            }\n        });\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n    return cart;\n};\n\n/*-------EMPTY ITEM------*/\nexport const emptyCart = next => {\n    if(typeof window !== 'undefined') {\n        localStorage.removeItem('cart')\n        next()\n    }\n}","import React from \"react\";\nimport Menu from \"./Menu\";\nimport \"../../styles.css\";\n\nconst Layout = ({\n    title = \"Title\",\n    description = \"Description\",\n    className,\n    children\n}) => (\n    <div>\n        <Menu />\n        <div className=\"description\" style={{height: '100px', margin : '10px', padding: '15px', backgroundColor:'#BCB0BA', textAlign: 'center'}}>\n            <h2>{title}</h2>\n            <p className=\"description\">{description}</p>\n        </div>\n        <div className={className}>{children}</div>\n    </div>\n);\n\nexport default Layout;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../Core/Layout\";\nimport { signup } from \"../Auth\";\n\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        success: false\n    });\n\n    const { name, email, password, success, error } = values;\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false });\n        signup({ name, email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, success: false });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    email: \"\",\n                    password: \"\",\n                    error: \"\",\n                    success: true\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: success ? \"\" : \"none\" }}\n        >\n            New account is created. Please <Link to=\"/signin\">Signin</Link>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Signup\"\n            description=\"Signup to Node React E-commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showSuccess()}\n            {showError()}\n            {signUpForm()}\n        </Layout>\n    );\n};\n\nexport default Signup;\n","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../Core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../Auth\";\n\nconst Signin = () => {\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        loading: false,\n        redirectToReferrer: false\n    });\n\n    const { email, password, loading, error, redirectToReferrer } = values;\n    const { user } = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true });\n        signin({ email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, loading: false });\n            } else {\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    });\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-info\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if (redirectToReferrer) {\n            if (user && user.role === 1) {\n                return <Redirect to=\"/admin/dashboard\" />;\n            } else {\n                return <Redirect to=\"/user/dashboard\" />;\n            }\n        }\n        if (isAuthenticated()) {\n            return <Redirect to=\"/\" />;\n        }\n    };\n\n    return (\n        <Layout\n            title=\"Signin\"\n            description=\"Signin to Node React E-commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showLoading()}\n            {showError()}\n            {signUpForm()}\n            {redirectUser()}\n        </Layout>\n    );\n};\n\nexport default Signin;\n","import { API } from \"../../config\";\nimport queryString from \"query-string\";\n\n/*-----------PRODUCT--------*/\nexport const getProducts = sortBy => {\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*-----------CATEGORY--------*/\nexport const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*-----------FILTERED PRODUCT--------*/\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n    const data = {\n        limit,\n        skip,\n        filters\n    };\n    return fetch(`${API}/products/by/search`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\n/*-----------PRODUCT LIST--------*/\nexport const list = params => {\n    const query = queryString.stringify(params);\n    console.log(\"query\", query);\n    return fetch(`${API}/products/search?${query}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\nexport const read = productId => {\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*-----------PRODUCT RELATED LIST--------*/\nexport const listRelated = productId => {\n    return fetch(`${API}/products/related/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n/*-----------PAYMENT TOKEN--------*/\nexport const getBraintreeClientToken = (userId, token) => {\n    return fetch(`${API}/braintree/getToken/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*-----------PAYMENT PROCESS--------*/\nexport const processPayment = (userId, token, paymentData) => {\n    return fetch(`${API}/braintree/payment/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(paymentData)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React from \"react\";\nimport { API } from \"../../config\";\n\nconst ShowImage = ({ item, url }) => (\n    <div className=\"product-img\">\n        <img\n            src={`${API}/${url}/photo/${item._id}`}\n            alt={item.name}\n            className=\"mb-3\"\n            style={{width: 170, height: 200}}\n        />\n    </div>\n);\n\nexport default ShowImage;\n\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport moment from \"moment\";\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\n\nconst Card = ({\n    product,\n    showViewProductButton = true,\n    showAddToCartButton = true,\n    cartUpdate = false,\n    showRemoveProductButton = false\n}) => {\n    const [redirect, setRedirect] = useState(false);\n    const [count, setCount] = useState(product.count);\n\n    const showViewButton = showViewProductButton => {\n        return (\n            showViewProductButton && (\n                <Link to={`/product/${product._id}`} className=\"mr-2\">\n                    <button className=\"mt-2 mb-2\" style={{backgroundColor: '#BCB0BA', borderRadius: '5px', color: 'white'}}>\n                        <i class=\"fa fa-eye\" aria-hidden=\"true\"></i> View Product\n                    </button>\n                </Link>\n            )\n        );\n    };\n\n    const addToCart = () => {\n        addItem(product, () => {\n            setRedirect(true);\n        });\n    };\n\n    const shouldRedirect = redirect => {\n        if (redirect) {\n            return <Redirect to=\"/cart\" />;\n        }\n    };\n\n    const showAddToCart = showAddToCartButton => {\n        return (\n            showAddToCartButton && (\n                <button\n                    onClick={addToCart}\n                    className=\"btn mt-2 mb-2\"\n                >\n                    < i className=\"fa fa-cart-plus\" aria-hidden=\"true\" style={{color:'#BCB0BA', fontSize: '30px'}}></i>\n                </button>\n            )\n        );\n    };\n\n    const showRemoveButton = showRemoveProductButton => {\n        return (\n            showRemoveProductButton && (\n                <button\n                    onClick={() => removeItem(product._id)}\n                    className=\"btn btn-outline-danger mt-2 mb-2\"\n                >\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                </button>\n            )\n        );\n    };\n\n    const showStock = quantity => {\n        return quantity > 0 ? (\n            <span className=\"badge-pill\" style={{backgroundColor: 'green', color: 'white', fontSize: \"12px\"}}>In Stock</span>\n        ) : (\n            <span className=\"badge-pill\">Out of Stock</span>\n        );\n    };\n\n    const handleChange = productId => event => {\n        setCount(event.target.value < 1 ? 1 : event.target.value);\n        if (event.target.value >= 1) {\n            updateItem(productId, event.target.value);\n        }\n    };\n\n    const showCartUpdateOptions = cartUpdate => {\n        return (\n            cartUpdate && (\n                <div>\n                    <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">\n                                <i class=\"fa fa-plus\" style={{color: 'green'}}>  </i>   Adjust Quantity\n                            </span>\n                        </div>\n                        <input\n                            type=\"number\"\n                            className=\"form-control\"\n                            value={count}\n                            onChange={handleChange(product._id)}\n                        />\n                    </div>\n                </div>\n            )\n        );\n    };\n\n    return (\n        <div className=\"card\" style={{width: 350, height: 598}}>\n            <div className=\"card-header name\" style={{backgroundColor: '#BCB0BA'}}>{product.name}</div>\n            <div className=\"card-body\">\n                {shouldRedirect(redirect)}\n                <div>\n                    <ShowImage item={product} url=\"product\" />\n                    <p className=\" mt-2\" style={{fontSize: '12px',  margin:'0px'}}>\n                        {product.description.substring(0, 500)}\n                    </p>\n                </div>\n               \n                <p className=\"black-10\" style={{margin:'0px'}}> <spam style={{fontWeight:'bold', color: '#AE90AA'}}>Price: </spam> ${product.price}</p>\n                <p className=\"black-9\" style={{margin:'0px'}}>\n                    <spam style={{fontWeight:'bold', color: '#AE90AA'}}>Category: </spam> {product.category && product.category.name}\n                </p>\n                <p className=\"black-8\">\n                    <spam style={{fontSize: '10px'}}>Created {moment(product.createdAt).fromNow()} </spam>\n                </p>\n\n                {showStock(product.quantity)}\n                <br />\n\n                {showViewButton(showViewProductButton)}\n\n                {showAddToCart(showAddToCartButton)}\n\n                {showRemoveButton(showRemoveProductButton)}\n\n                {showCartUpdateOptions(cartUpdate)}\n            </div>\n        </div>\n    );\n};\n\nexport default Card;\n\n","import React, { useState, useEffect } from \"react\";\nimport { getCategories, list } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Search = () => {\n    const [data, setData] = useState({\n        categories: [],\n        category: \"\",\n        search: \"\",\n        results: [],\n        searched: false\n    });\n\n    const { categories, category, search, results, searched } = data;\n\n    const loadCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setData({ ...data, categories: data });\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadCategories();\n    }, []);\n\n    const searchData = () => {\n        // console.log(search, category);\n        if (search) {\n            list({ search: search || undefined, category: category }).then(\n                response => {\n                    if (response.error) {\n                        console.log(response.error);\n                    } else {\n                        setData({ ...data, results: response, searched: true });\n                    }\n                }\n            );\n        }\n    };\n\n    const searchSubmit = e => {\n        e.preventDefault();\n        searchData();\n    };\n\n    const handleChange = name => event => {\n        setData({ ...data, [name]: event.target.value, searched: false });\n    };\n\n    const searchMessage = (searched, results) => {\n        if (searched && results.length > 0) {\n            return `Found ${results.length} products`;\n        }\n        if (searched && results.length < 1) {\n            return `No products found`;\n        }\n    };\n\n    const searchedProducts = (results = []) => {\n        return (\n            <div>\n                <h2 className=\"mt-4 mb-4\">\n                    {searchMessage(searched, results)}\n                </h2>\n                <div className=\"row\">\n                    {results.map((product, i) => (\n                        <Card key={i} product={product} />\n                    ))}\n                </div>\n            </div>\n        );\n    };\n\n    const searchForm = () => (\n        <form onSubmit={searchSubmit}>\n            <span className=\"input-group-text\">\n                <div className=\"input-group input-group-lg\">\n                    <div className=\"input-group-prepend\">\n                        <select\n                            className=\"btn mr-2\"\n                            onChange={handleChange(\"category\")}\n                        >\n                            <option value=\"All\">All</option>\n                            {categories.map((c, i) => (\n                                <option key={i} value={c._id}>\n                                    {c.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <input\n                        type=\"search\"\n                        className=\"form-control\"\n                        onChange={handleChange(\"search\")}\n                        placeholder=\"Search by name\"\n                    />\n                </div>\n                <div\n                    className=\"btn input-group-append\"\n                    style={{ border: \"none\" }}\n                >\n                    <button style={{backgroundColor: '#BCB0BA'}} className=\"input-group-text\">\n                        <i class=\"fa fa-search-plus\" aria-hidden=\"true\"></i>Search\n                    </button>\n                </div>\n            </span>\n        </form>\n    );\n\n    return (\n        <div className=\"row\">\n            <div className=\"container mb-3\">{searchForm()}</div>\n            <div className=\"container-fluid mb-3\">\n                {searchedProducts(results)}\n            </div>\n        </div>\n    );\n};\n\nexport default Search;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { getProducts } from \"./apiCore\";\nimport Card from \"./Card\";\nimport Search from \"./Search\";\n\nconst Home = () => {\n    const [productsBySell, setProductsBySell] = useState([]);\n    const [productsByArrival, setProductsByArrival] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadProductsBySell = () => {\n        getProducts(\"sold\").then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setProductsBySell(data);\n            }\n        });\n    };\n\n    const loadProductsByArrival = () => {\n        getProducts(\"createdAt\").then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setProductsByArrival(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadProductsByArrival();\n        loadProductsBySell();\n    }, []);\n\n    return (\n        <Layout\n            title=\"Welcome to your Book Store\"\n            description=\"Browse and find you Book !\"\n            className=\"container description\"\n        >\n            <Search />\n            <h2 className=\"mb-4\">\n                <i class=\"fa fa-arrow-right\"></i> New Arrivals:\n            </h2>\n            <div className=\"row\">\n                {productsByArrival.map((product, i) => (\n                    <div key={i} className=\"col-4 mb-3\">\n                        <Card product={product} />\n                    </div>\n                ))}\n            </div>\n\n            <hr />\n\n            <h2 className=\"mb-4\" style={{fontWeight: 'bold'}}>\n                <i class=\"fa fa-arrow-right\"></i> Best Sellers: \n            </h2>\n            <div className=\"row\">\n                {productsBySell.map((product, i) => (\n                    <div key={i} className=\"col-4 mb-3\">\n                        <Card product={product} />\n                    </div>\n                ))}\n            </div>\n        </Layout>\n    );\n};\n\nexport default Home;","import React, { useState, useEffect } from \"react\";\n\nconst Checkbox = ({ categories, handleFilters }) => {\n    const [checked, setCheked] = useState([]);\n\n    const handleToggle = c => () => {\n        // return the first index or -1\n        const currentCategoryId = checked.indexOf(c);\n        const newCheckedCategoryId = [...checked];\n        // if currently checked was not already in checked state > push\n        // else pull/take off\n        if (currentCategoryId === -1) {\n            newCheckedCategoryId.push(c);\n        } else {\n            newCheckedCategoryId.splice(currentCategoryId, 1);\n        }\n        // console.log(newCheckedCategoryId);\n        setCheked(newCheckedCategoryId);\n        handleFilters(newCheckedCategoryId);\n    };\n\n    return categories.map((c, i) => (\n        <li key={i} className=\"list-unstyled\">\n            <input\n                onChange={handleToggle(c._id)}\n                value={checked.indexOf(c._id === -1)}\n                type=\"checkbox\"\n                className=\"form-check-input\"\n            />\n            <label className=\"form-check-label\">{c.name}</label>\n        </li>\n    ));\n};\n\nexport default Checkbox;\n","import React, { useState, useEffect } from \"react\";\n\nconst RadioBox = ({ prices, handleFilters }) => {\n    const [value, setValue] = useState(0);\n\n    const handleChange = event => {\n        handleFilters(event.target.value);\n        setValue(event.target.value);\n    };\n\n    return prices.map((p, i) => (\n        <div key={i}>\n            <input\n                onChange={handleChange}\n                value={`${p._id}`}\n                name={p}\n                type=\"radio\"\n                className=\"mr-2 ml-4\"\n            />\n            <label className=\"form-check-label\">{p.name}</label>\n        </div>\n    ));\n};\n\nexport default RadioBox;\n","export const prices = [\n    {\n        _id: 0,\n        name: \"Any\",\n        array: []\n    },\n    {\n        _id: 1,\n        name: \"$0 to $9\",\n        array: [0, 9]\n    },\n    {\n        _id: 2,\n        name: \"$10 to $19\",\n        array: [10, 19]\n    },\n    {\n        _id: 3,\n        name: \"$20 to $29\",\n        array: [20, 29]\n    },\n    {\n        _id: 4,\n        name: \"$30 to $39\",\n        array: [20, 29]\n    },\n    {\n        _id: 5,\n        name: \"More than $40\",\n        array: [40, 99]\n    }\n];\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport RadioBox from \"./RadioBox\";\nimport { prices } from \"./fixedPrices\";\n\nconst Shop = () => {\n    const [myFilters, setMyFilters] = useState({\n        filters: { category: [], price: [] }\n    });\n    const [categories, setCategories] = useState([]);\n    const [error, setError] = useState(false);\n    const [limit, setLimit] = useState(6);\n    const [skip, setSkip] = useState(0);\n    const [size, setSize] = useState(0);\n    const [filteredResults, setFilteredResults] = useState([]);\n\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setCategories(data);\n            }\n        });\n    };\n\n    const loadFilteredResults = newFilters => {\n        // console.log(newFilters);\n        getFilteredProducts(skip, limit, newFilters).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setFilteredResults(data.data);\n                setSize(data.size);\n                setSkip(0);\n            }\n        });\n    };\n\n    const loadMore = () => {\n        let toSkip = skip + limit;\n        // console.log(newFilters);\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setFilteredResults([...filteredResults, ...data.data]);\n                setSize(data.size);\n                setSkip(toSkip);\n            }\n        });\n    };\n\n    const loadMoreButton = () => {\n        return (\n            size > 0 &&\n            size >= limit && (\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">\n                    Load more\n                </button>\n            )\n        );\n    };\n\n    useEffect(() => {\n        init();\n        loadFilteredResults(skip, limit, myFilters.filters);\n    }, []);\n\n    const handleFilters = (filters, filterBy) => {\n        // console.log(\"SHOP\", filters, filterBy);\n        const newFilters = { ...myFilters };\n        newFilters.filters[filterBy] = filters;\n\n        if (filterBy === \"price\") {\n            let priceValues = handlePrice(filters);\n            newFilters.filters[filterBy] = priceValues;\n        }\n        loadFilteredResults(myFilters.filters);\n        setMyFilters(newFilters);\n    };\n\n    const handlePrice = value => {\n        const data = prices;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value)) {\n                array = data[key].array;\n            }\n        }\n        return array;\n    };\n\n    return (\n        <Layout\n            title=\"Shop Page\"\n            description=\"Search and find books of your choice\"\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-2\">\n                    <div style={{border: '1px solid black', margin: '10px', padding: '10px', borderRadius: '5px'}}>\n                        <h4 className=\"description\" style={{fontWeight: 'bold'}}>Filter by categories</h4>\n                        <ul>\n                            <Checkbox\n                                categories={categories}\n                                handleFilters={filters =>\n                                    handleFilters(filters, \"category\")\n                                }\n                            />\n                        </ul>\n                    </div>\n                    <div style={{border: '1px solid black', margin: '10px', padding: '10px', borderRadius: '5px'}}>\n                        <h4 className=\"description\" style={{fontWeight: 'bold'}}>Filter by price range</h4>\n                        <div>\n                            <RadioBox\n                                prices={prices}\n                                handleFilters={filters =>\n                                    handleFilters(filters, \"price\")\n                                }\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\" description col-10\">\n                    <h2 className=\"mb-4\" ><i class=\"fa fa-arrow-right\"></i> Products</h2>\n                    <div className=\"row\">\n                        {filteredResults.map((product, i) => (\n                            <div key={i} className=\"col-4 mb-3\">\n                                <Card product={product} />\n                            </div>\n                        ))}\n                    </div>\n                    <hr />\n                    {loadMoreButton()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { read, listRelated } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Product = props => {\n    const [product, setProduct] = useState({});\n    const [relatedProduct, setRelatedProduct] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadSingleProduct = productId => {\n        read(productId).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setProduct(data);\n                // fetch related products\n                listRelated(data._id).then(data => {\n                    if (data.error) {\n                        setError(data.error);\n                    } else {\n                        setRelatedProduct(data);\n                    }\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        const productId = props.match.params.productId;\n        loadSingleProduct(productId);\n    }, [props]);\n\n    return (\n        <Layout\n            title={product && product.name}\n            description={\n                product &&\n                product.description &&\n                product.description.substring(0, 100)\n            }\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-8\">\n                    {product && product.description && (\n                        <Card product={product} showViewProductButton={false} />\n                    )}\n                </div>\n\n                <div className=\"col-4\">\n                    <h4>Related products</h4>\n                    {relatedProduct.map((p, i) => (\n                        <div className=\"mb-3\">\n                            <Card key={i} product={p} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Product;\n","import React, { useState, useEffect } from \"react\";\nimport {getBraintreeClientToken, processPayment} from \"./apiCore\"\nimport { isAuthenticated } from \"../Auth\";\nimport { Link } from \"react-router-dom\";\nimport 'braintree-web'\nimport DropIn from 'braintree-web-drop-in-react'\nimport {emptyCart} from './cartHelpers'\n\nconst Checkout = ({ products }) => {\n    const [data, setData] = useState({\n        success: false,\n        clientToken: null,\n        error: '',\n        // use for UI\n        instance: {},\n        address: ''\n    })\n\n    // Make a request to the backend\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n    const token = isAuthenticated() && isAuthenticated().token;\n\n    // Run when the component mount and every time there is a change\n    const getToken = (userId, token) => {\n        getBraintreeClientToken(userId, token).then(data => {\n            if (data.error) {\n                setData({ ...data, error: data.error });\n            } else {\n                setData({ clientToken: data.clientToken });\n            }\n        });\n    };\n\n    useEffect(() => {\n        getToken(userId, token);\n    }, []);\n\n    const getTotal = () => {\n        return products.reduce((currentValue, nextValue) => {\n            return currentValue + nextValue.count * nextValue.price;\n        }, 0);\n    };\n\n    const showCheckout = () => {\n        return isAuthenticated() ? (\n            <div>\n                {showDropIn()}\n            </div>\n        ) : (\n            <Link to=\"/signin\">\n                <button className=\"btn\">Sign in to checkout</button>\n            </Link>\n        );\n    };\n\n    const buy = () => {\n        // send the nonce ( payment method) to the server\n        // Nonce = data.instance.requestPaymentMethod()\n        let nonce;\n        let getNonce = data.instance\n            .requestPaymentMethod()\n            .then(data => {\n                console.log(data);\n                nonce = data.nonce;\n                // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce' to the backend\n                // and also total to be charged\n                console.log(\n                    \"send nonce and total to process: \",\n                    nonce,\n                    getTotal(products)\n                );\n                const paymentData = {\n                    paymentMethodNonce: nonce,\n                    amount: getTotal(products)\n                };\n\n                // send data to the backend\n                processPayment(userId, token, paymentData)\n                    .then(response => {\n                        // console.log(response\n                        setData({ ...data, success: response.success });\n                        // empty cart\n                        emptyCart(() =>{\n                            console.log('payment success and emoty cart')\n                        })\n                        \n                    })\n                    .catch(error => console.log(error));\n            })\n            .catch(error => {\n                console.log(\"dropin error: \", error);\n                setData({ ...data, error: error.message });\n            });\n    };\n\n    const showDropIn = () => (\n        // Show the drop in when token is there\n        // onBlur => wherever I click on the page, will run and empty the error\n        <div onBlur={() => setData({...data, error: \"\"})}>\n            {data.clientToken !== null && products.length > 0 ? (\n                <div>\n                    <DropIn options={{\n                        authorization: data.clientToken\n                    }} onInstance={instance => data.instance  = instance} />\n                    <button \n                        style={{backgroundColor: '#4B3655', color: 'white'}} \n                        className=\"btn btn-block\" \n                        onClick={buy}>\n                        <i class=\"fa fa-credit-card\" aria-hidden=\"true\" style={{fontSize: '20px', color:'white', border: \"1px solid #4B3655 \"}}></i>  \n                            Pay\n                    </button>\n                </div>\n            ) : null}\n        </div>\n    );\n\n    const showError = error => (\n        <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n            {error}\n        </div>\n    )\n\n    const showSuccess = success => (\n        <div className=\"alert alert-info\" style={{display: success ? '' : 'none'}}>\n            Thank you! Your payment was successful!\n        </div>\n    )\n\n    return (\n        <div>\n            <h2>Total: <span style={{color: \"green\"}}> ${getTotal()} </span></h2>\n            {showError(data.error)}\n            {showSuccess(data.success)}\n            {showCheckout()}\n        </div>\n    );\n};\n\nexport default Checkout;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"./Layout\";\nimport { getCart } from \"./cartHelpers\";\nimport Card from \"./Card\";\nimport Checkout from \"./Checkout\";\n\nconst Cart = () => {\n    const [items, setItems] = useState([]);\n\n    useEffect(() => {\n        setItems(getCart());\n    }, [items]);\n\n    const showItems = items => {\n        return (\n            <div>\n                <h2>Your cart has {`${items.length}`} items</h2>\n                <hr />\n                {items.map((product, i) => (\n                    <Card\n                        key={i}\n                        product={product}\n                        showAddToCartButton={false}\n                        cartUpdate={true}\n                        showRemoveProductButton={true}\n                    />\n                ))}\n            </div>\n        );\n    };\n\n    const noItemsMessage = () => (\n        <h5 className=\"description\" style={{color: '#4B3655'}}>\n            <span style={{color: \"black\"}}>Your cart is empty.</span>  <br /> \n            <Link style={{color: '#4B3655' }} to=\"/shop\">Continue shopping</Link>\n        </h5>\n    );\n\n    return (\n        <Layout\n            title=\"Shopping Cart\"\n            description=\"Manage your cart items. Add remove checkout or continue shopping.\"\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-6\">\n                    {items.length > 0 ? showItems(items) : noItemsMessage()}\n                </div>\n\n                <div className=\" description col-6\">\n                    <h2 className=\"mb-4\">Your cart summary</h2>\n                    <hr />\n                    <Checkout products={items} />\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Cart;\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport Layout from \"../Core/Layout\";\nimport { isAuthenticated } from \"../Auth\";\nimport { Link } from \"react-router-dom\";\n\nconst Dashboard = () => {\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n\n    const userLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/cart\">\n                            My Cart\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/profile/update\">\n                            Update Profile\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const purchaseHistory = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">history</li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{userLinks()}</div>\n                <div className=\"col-9\">\n                    {userInfo()}\n                    {purchaseHistory()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Dashboard;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default AdminRoute;\n","import React from \"react\";\nimport Layout from \"../Core/Layout\";\nimport { isAuthenticated } from \"../Auth\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminDashboard = () => {\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n\n    const adminLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/category\">\n                            Create Category\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/product\">\n                            Create Product\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/admin/products\">\n                            Manage Products\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const adminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{adminLinks()}</div>\n                <div className=\"col-9\">{adminInfo()}</div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AdminDashboard;\n","import { API } from \"../../config\";\n\n/*------- CREATE CATEGORY--------*/\nexport const createCategory = (userId, token, category) => {\n    return fetch(`${API}/category/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(category)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\n/*------- GET CATEGORY--------*/\nexport const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*------- CREATE PRODUCT--------*/\nexport const createProduct = (userId, token, product) => {\n    return fetch(`${API}/product/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\n/*------- GET ALL PRODUCT--------*/\nexport const getProducts = () => {\n    return fetch(`${API}/products?limit=undefined`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*------- GET SIGNLE PRODUCT--------*/\nexport const getProduct = productId => {\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*------- UPDATE SINGLE PRODUCT--------*/\nexport const updateProduct = (productId, userId, token, product) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/*------- DELETE SINGLE PRODUCT--------*/\nexport const deleteProduct = (productId, userId, token) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React, { useState } from \"react\";\nimport Layout from \"../Core/Layout\";\nimport { isAuthenticated } from \"../Auth\";\nimport { Link } from \"react-router-dom\"\nimport { createCategory } from \"./apiAdmin\";\n\nconst AddCategory = () => {\n    const [name, setName] = useState(\"\");\n    const [error, setError] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    // destructure user and token from localstorage\n    const { user, token } = isAuthenticated();\n\n    const handleChange = e => {\n        setError(\"\");\n        setName(e.target.value);\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        setError(\"\");\n        setSuccess(false);\n        // make request to api to create category\n        createCategory(user._id, token, { name }).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setError(\"\");\n                setSuccess(true);\n            }\n        });\n    };\n\n    const newCategoryFom = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    onChange={handleChange}\n                    value={name}\n                    autoFocus\n                    required\n                />\n            </div>\n            <button className=\"btn btn-outline-primary\">Create Category</button>\n        </form>\n    );\n\n    const showSuccess = () => {\n        if (success) {\n            return <h3 className=\"text-success\">{name} is created</h3>;\n        }\n    };\n\n    const showError = () => {\n        if (error) {\n            return <h3 className=\"text-danger\">Category should be unique</h3>;\n        }\n    };\n\n    const goBack = () => (\n        <div className=\"mt-5\">\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\n                Back to Dashboard\n            </Link>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Add a new category\"\n            description={`G'day ${user.name}, ready to add a new category?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showSuccess()}\n                    {showError()}\n                    {newCategoryFom()}\n                    {goBack()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddCategory;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../Core/Layout\";\nimport { isAuthenticated } from \"../Auth\";\n\nimport { createProduct, getCategories } from \"./apiAdmin\";\n\nconst AddProduct = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        categories: [],\n        category: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    // load categories and set form data\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    categories: data,\n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init();\n    }, []);\n\n    const handleChange = name => event => {\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        createProduct(user._id, token, formData).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    description: \"\",\n                    photo: \"\",\n                    price: \"\",\n                    quantity: \"\",\n                    loading: false,\n                    createdProduct: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea\n                    onChange={handleChange(\"description\")}\n                    className=\"form-control\"\n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input\n                    onChange={handleChange(\"price\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select\n                    onChange={handleChange(\"category\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    {categories &&\n                        categories.map((c, i) => (\n                            <option key={i} value={c._id}>\n                                {c.name}\n                            </option>\n                        ))}\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select\n                    onChange={handleChange(\"shipping\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input\n                    onChange={handleChange(\"quantity\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Create Product</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdProduct ? \"\" : \"none\" }}\n        >\n            <h2>{`${createdProduct}`} is created!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    return (\n        <Layout\n            title=\"Add a new product\"\n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddProduct;\n\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../Core/Layout\";\nimport { isAuthenticated } from \"../Auth\";\nimport { getCategories, updateProduct, getProduct } from \"./apiAdmin\";\nimport { Redirect } from \"react-router-dom\"\n\nconst UpdateProduct = ({match}) => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        categories: [],\n        category: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    const init = (productId) => {\n        getProduct(productId).then(data => {\n            if(data.error) {\n                setValues({...values, error: data.error})\n            } else {\n                // populate the state\n                setValues({...values, \n                    name: data.name, \n                    description: data.description,\n                    price: data.price,\n                    category: data.category._id,\n                    shipping: data.shipping,\n                    quantity: data.quantity,\n                    formData: new FormData()\n                })\n                // load categories\n                initCategories()\n            }\n        })\n    } \n\n    // load categories and set form data\n    const initCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    categories: data,\n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.productId);\n    }, []);\n\n    const handleChange = name => event => {\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        updateProduct(match.params.productId, user._id, token, formData).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    description: \"\",\n                    photo: \"\",\n                    price: \"\",\n                    quantity: \"\",\n                    loading: false,\n                    error: false,\n                    redirectToProfile: true,\n                    createdProduct: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea\n                    onChange={handleChange(\"description\")}\n                    className=\"form-control\"\n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input\n                    onChange={handleChange(\"price\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select\n                    onChange={handleChange(\"category\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    {categories &&\n                        categories.map((c, i) => (\n                            <option key={i} value={c._id}>\n                                {c.name}\n                            </option>\n                        ))}\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select\n                    onChange={handleChange(\"shipping\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input\n                    onChange={handleChange(\"quantity\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Update Product</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdProduct ? \"\" : \"none\" }}\n        >\n            <h2>{`${createdProduct}`} is updated!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if(redirectToProfile) {\n            if(!error) {\n                return <Redirect to=\"\" />\n            }\n        }\n    }\n\n    return (\n        <Layout\n            title=\"Add a new product\"\n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                    {redirectUser()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default UpdateProduct;\n\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../Core/Layout\";\nimport {getProducts, deleteProduct} from './apiAdmin';\nimport { isAuthenticated } from \"../Auth\";\nimport { Link } from 'react-router-dom'\n\nconst ManageProducts = () => {\n\n    const [products, setProducts] = useState([]);\n    const {user, token} = isAuthenticated();\n\n    const loadProducts = () => {\n        // populate the products in the state\n        getProducts().then(data => {\n            if(data.error) {\n                console.log(data.error)\n            } else {\n                setProducts(data)\n            }\n        });\n    }\n\n    const destroy = productId => {\n        deleteProduct(productId, user._id, token).then(data => {\n            if(data.error) {\n                console.log(data.error)\n            } else {\n                loadProducts()\n            }\n        })\n    }\n    useEffect(() => {\n        loadProducts()\n    }, [])\n    return (\n        <Layout\n            title=\"Manage Products\"\n            description=\"Perform CRUD on products\"\n            className=\"container description\"\n        >\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <h2 className=\"text-center\">\n                        Total {products.length} product\n                    </h2>\n                    <hr />\n\n                    <ul className=\"list-group\">\n                        {products.map((p, i) => (\n                            <li key={i} className=\"list-group-item d-flex justify-content-between align-items-center\">\n                                <strong>{p.name}</strong>\n                                <Link to={`/admin/product/update/${p._id}`}>\n                                    <span className=\"badge badge-warning badge-pill\">\n                                        Update\n                                    </span>\n                                    \n                                </Link>\n                                <span onClick={() => destroy(p._id)} className='badge badge-danger badge-pill'>\n                                    Delete\n                                </span>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            </div>\n            \n        </Layout>\n    );\n};\n\nexport default ManageProducts;\n\n","/*------ REACT -------*/\nimport React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\n\n/*------ AUTHENTICATION -------*/\nimport Signup from './components/User/Signup';\nimport Signin from './components/User/Signin';\nimport Home from './components/Core/Home';\nimport Shop from './components/Core/Shop';\nimport Product from './components/Core/Product';\nimport Cart from './components/Core/Cart';\n\n/*------ AUTHORIZATION -------*/\nimport PrivateRoute from './components/Auth/PrivateRoute';\nimport Dashboard from './components/User/UserDashboard';\nimport AdminRoute from './components/Auth/AdminRoute';\nimport AdminDashboard from './components/User/AdminDashboard';\n\n/*------ CATEGORY -------*/\nimport AddCategory from './components/Admin/AddCategory';\n\n/*------ PRODUCT -------*/\nimport AddProduct from './components/Admin/AddProduct';\nimport UpdateProduct from './components/Admin/UpdateProduct';\nimport ManageProducts from  './components/Admin/ManageProducts';\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={ Home } />\n                <Route path=\"/shop\" exact component={ Shop } />\n                <Route path=\"/signin\" exact component={ Signin } />\n                <Route path=\"/signup\" exact component={ Signup } />\n\n                <PrivateRoute path=\"/user/dashboard\" exact component={ Dashboard } />\n                <AdminRoute path=\"/admin/dashboard\" exact component={ AdminDashboard } />\n                <AdminRoute path=\"/create/category\" exact component={ AddCategory } />\n                <AdminRoute path=\"/create/product\" exact component={ AddProduct } />\n                <PrivateRoute path=\"/admin/products\" exact component={ ManageProducts } />\n                <AdminRoute path=\"/admin/product/update/:productId\" exact component={ UpdateProduct } />\n\n                <Route path=\"/product/:productId\" exact component={ Product } />\n\n                <Route path=\"/cart\" exact component={Cart} />\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}